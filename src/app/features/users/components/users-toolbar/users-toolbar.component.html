<div class="toolbar">
    <div class="grouping-controls">
        <div class="search-box">
            <input type="text" placeholder="Search users..." [value]="searchQuery()" (input)="onSearch($event)">
            @if (searchQuery()) {
            <button class="clear-search" (click)="clearSearch.emit()">x</button>
            }
        </div>

        <span class="label-text">Group by</span>
        <div class="segment-control">
            <div class="segment-control">
                @for (opt of criteriaOptions; track opt) {
                <button [class.active]="currentCriteria() === opt" (click)="setCriteria(opt)">
                    {{ opt | titlecase }}
                </button>
                }
            </div>
        </div>
    </div>

    <div class="stats">
        @if (totalUsers(); as total) {
        <span class="user-count">{{ total }} Users</span>
        }
    </div>
</div>