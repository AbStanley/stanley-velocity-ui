.list-container {
    height: 100%;
    display: flex;
    flex-direction: column;
    background: #f8f9fa;
}

.toolbar {
    padding: 16px;
    background: white;
    border-bottom: 1px solid #e0e0e0;
    display: flex;
    flex-direction: column;
    /* Mobile First: Stack vertically */
    gap: 16px;
    z-index: 10;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);

    @media (min-width: 600px) {
        flex-direction: row;
        /* Desktop: Row */
        justify-content: space-between;
        align-items: center;
    }
}

.grouping-controls {
    display: flex;
    flex-direction: column;
    /* Mobile: Stack label and buttons */
    gap: 8px;
    width: 100%;

    @media (min-width: 600px) {
        flex-direction: row;
        align-items: center;
        width: auto;
    }

    .label {
        font-weight: 500;
        color: #555;
        font-size: 0.9rem;
    }
}

.btn-group {
    display: flex;
    gap: 8px;
    overflow-x: auto;
    /* Allow horizontal scroll on very small screens */
    padding-bottom: 4px;
    /* Space for scrollbar if needed */
    -webkit-overflow-scrolling: touch;

    button {
        padding: 8px 16px;
        /* Larger touch targets */
        border: 1px solid #d0d0d0;
        background: white;
        border-radius: 6px;
        cursor: pointer;
        font-size: 0.9rem;
        transition: all 0.2s;
        white-space: nowrap;
        flex-shrink: 0;

        &:hover {
            background: #f0f0f0;
            border-color: #bbb;
        }

        &.active {
            background: #333;
            color: white;
            border-color: #333;
        }
    }
}

.viewport {
    height: 100%;
    width: 100%;

    /* Ensure the viewport takes available space */
    .cdk-virtual-scroll-content-wrapper {
        display: flex;
        flex-direction: column;
    }
}

.content {
    flex: 1;
    overflow: hidden;
    height: 100%;
    /* Important for virtual scroll to calculate height */
}

/* 
   We treat headers as items in the virtual list.
   They need a fixed height to match itemSize="80" 
   (or we need to use a strategy for variable height, but let's stick to 80px for simplicity first, 
   or just accept they are 80px tall like users).
   If we want different heights, we need AutosizeStrategy which is heavier.
   Let's try to make headers look good at 80px or whatever itemSize is.
*/
.group-header-item {
    height: 80px;
    /* Matches itemSize */
    display: flex;
    align-items: center;
    padding: 0 16px;
    background: #f0f2f5;
    color: #333;
    font-weight: 700;
    font-size: 1.1rem;
    border-bottom: 1px solid #e0e0e0;

    .header-count {
        margin-left: 8px;
        color: #666;
        font-weight: 400;
        font-size: 0.9rem;
    }
}

.loading-state,
.error-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
    color: #666;
}

.spinner {
    width: 40px;
    height: 40px;
    border: 4px solid #f3f3f3;
    border-top: 4px solid #333;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin-bottom: 16px;
}

@keyframes spin {
    0% {
        transform: rotate(0deg);
    }

    100% {
        transform: rotate(360deg);
    }
}